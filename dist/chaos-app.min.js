!function(e){var t={};function a(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(n,s,function(t){return e[t]}.bind(null,s));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=33)}({33:function(e,t){Tactics.App=function(e,t,a){var n,s,o=Tactics.fullscreen,r=[2,10,8,7],i={teams:[{c:2,b:0,u:{ej:{t:0,d:"N"},fj:{t:0,d:"N"},gj:{t:0,d:"N"}}},{c:10,b:1,u:{eb:{t:0,d:"S"},fb:{t:0,d:"S"},gb:{t:0,d:"S"}}},{c:8,b:1,u:{be:{t:0,d:"E"},bf:{t:0,d:"E"},bg:{t:0,d:"E"}}},{c:7,b:1,u:{je:{t:0,d:"W"},jf:{t:0,d:"W"},jg:{t:0,d:"W"}}},{c:2,b:"Chaos",u:{ff:{t:15,d:"S"}}}],turns:[0,2,1,3]};function l(){i.teams[4].c=r.random(),n.reset().addTeams(i.teams),n.turns=i.turns.slice().spin(),n.turns.push(4),Tactics.render(),n.startTurn()}return e(t).on("load",function(){var a={swapbar:function(){var t=e("#app > .buttons.active"),a=t.next(".buttons");a.length||(a=e("#app > .buttons").first()),t.removeClass("active"),a.addClass("active")},resize:o.toggle,movebar:function(t){e("#app").toggleClass("left right"),t.toggleClass("fa-rotate-270 fa-rotate-90")},rotate:function(e){var t,a;e.hasClass("fa-rotate-90")?(t="fa-rotate-90 fa-rotate-180",a="W"):e.hasClass("fa-rotate-180")?(t="fa-rotate-180 fa-rotate-270",a="N"):e.hasClass("fa-rotate-270")?(t="fa-rotate-270",a="E"):(t="fa-rotate-90",a="S"),e.toggleClass(t),Tactics.board.rotate(a)},sound:function(e){e.toggleClass("fa-bell fa-bell-slash"),e.hasClass("fa-bell")?Howler.unmute():Howler.mute()},select:function(t){var a=n.selected,s=n.viewed,o=t.val();"turn"==o&&"turn"==n.selectMode?s?"turn"==s.activated&&s.activate("direction",!0):a&&("turn"==a.activated?(a.activate("direction"),e("BUTTON[name=pass]").addClass("ready")):(a.turn(90).hideMode().showMode(),e("BUTTON[name=select][value=turn]").removeClass("ready"))):n.setSelectMode(o)},pass:function(){n.endTurn()},surrender:function(){e("#popup #message").text("Are you sure you want to reset the game?"),e("#popup BUTTON[name=yes]").data("handler",function(){l(),e("#overlay,#popup").hide()}),e("#overlay,#popup").show()}};e("#overlay").on("click tap",function(){e("#popup").hasClass("error")||e("#overlay,#popup").hide()}),e("#popup BUTTON[name=no]").data("handler",function(){e("#overlay,#popup").hide()}),"ontouchstart"in t?e("body").addClass(s="touch"):e("body").addClass(s="mouse"),Tactics.init(e("#field")),e(t).trigger("resize"),e("#loader").css({top:e(t).height()/2-e("#loader").height()/2+"px",left:e(t).width()/2-e("#loader").width()/2+"px",visibility:"visible"}),(n=Tactics.board).on("select-mode-change",function(t){var a=n.selected,o=n.viewed,r=t.ovalue,i=t.nvalue,l=!0,u=!0;e("BUTTON[name=select][value="+r+"]").removeClass("selected"),e("BUTTON[name=select][value="+i+"]").addClass("selected"),e("#game-play").hasClass("active")||(e(".buttons").removeClass("active"),e("#game-play").addClass("active")),o?(o.mRadius||(l=!1),o.aRadius||(u=!1)):a&&(a&&a.attacked&&(l=!a.deployed||!a.deployed.first,u=!1),a.mRadius||(l=!1),a.aRadius||(u=!1)),e("BUTTON[name=select][value=move]").prop("disabled",!l),e("BUTTON[name=select][value=attack]").prop("disabled",!u),"touch"==s&&"turn"==i&&a&&!o?e("BUTTON[name=select][value=turn]").addClass("ready"):e("BUTTON[name=select][value=turn]").removeClass("ready"),"ready"==i?e("BUTTON[name=pass]").addClass("ready"):e("BUTTON[name=pass]").removeClass("ready")}).on("card-change",function(t){var a=e("#card");t.nvalue&&null===t.ovalue?a.stop().fadeIn():null===t.nvalue&&a.stop().fadeOut()}).on("lock-change",function(t){e("#app").toggleClass("locked")}),o.isAvailable()||e("BUTTON[name=resize]").toggleClass("hidden"),Howler.noAudio&&e("BUTTON[name=sound]").toggleClass("hidden"),e("BODY").on("mouseover","#app BUTTON:enabled",function(){var t=e(this);if("pointer"==t.css("cursor")){if(t.parents(".locked").length){if(!t.parents("#game-settings").length)return;if("rotate"===t.attr("name"))return}Tactics.sounds.focus.play()}}).on("click tap","#app BUTTON:enabled",function(){var t=e(this),n=t.data("handler")||a[t.attr("name")];if(t.parents(".locked").length){if(!t.parents("#game-settings").length)return;if("rotate"===t.attr("name"))return}n(t),Tactics.sounds.select.play()}),function(){var t=e("#progress"),a=[],o=0,r=PIXI.loader,u=[];function c(){var r=++o/a.length*100,i="mouse"===s?"Click":"Tap";100===r?e("#loader").css({cursor:"pointer"}).one("click tap",function(){n.draw(),e("#splash").hide(),e("#app").css("visibility","visible"),l()}).find(".message").text(i+" here to play!"):t.width(r)}e.each(Tactics.images,function(e,t){var n="http://www.taorankings.com/html5/images/"+t;a.push(n),r.add({url:n})}),e.each(Tactics.sounds,function(e,t){var n,s;"string"==typeof t&&(t={file:t}),s="http://www.taorankings.com/html5/sounds/"+t.file,a.push(s),n=new Howl({urls:[s+".mp3",s+".ogg"],sprite:t.sprite,volume:t.volume||1,rate:t.rate||1,onload:function(){c()},onloaderror:function(){}}),Tactics.sounds[e]=n}),e.each(Tactics.units[19].frames,function(t,n){e.each(n.c,function(e,t){var n="http://www.taorankings.com/html5/units/19/image"+t.id+".png";-1===a.indexOf(n)&&(a.push(n),r.add({url:n}))})}),e.each(i.teams,function(t,n){var s=e.extend({},n.u);4===t&&(s.aa={t:22}),e.each(s,function(t,n){var s=Tactics.units,o=n.t,i=[];u.indexOf(o)>-1||(u.push(o),s[o].sounds&&e.each(s[o].sounds,function(e,t){var n,r;"string"==typeof t&&(t={file:t}),r="http://www.taorankings.com/html5/sounds/"+t.file,a.push(r),n=new Howl({urls:[r+".mp3",r+".ogg"],sprite:t.sprite,volume:t.volume||1,rate:t.rate||1,onload:function(){c()},onloaderror:function(){}}),s[o].sounds[e]=n}),s[o].frames?e.each(s[o].frames,function(t,n){n&&e.each(n.c,function(e,t){var n="http://www.taorankings.com/html5/units/"+o+"/image"+t.id+".png";-1===a.indexOf(n)&&(a.push(n),r.add({url:n}))})}):(e.each(s[o].stills,function(e,t){i.push(t)}),s[o].walks&&e.each(s[o].walks,function(e,t){i.push.apply(i,t)}),s[o].attacks&&e.each(s[o].attacks,function(e,t){i.push.apply(i,t)}),s[o].blocks&&e.each(s[o].blocks,function(e,t){i.push.apply(i,t)}),e.each(i,function(t,n){e.each(n,function(e,t){var n="http://www.taorankings.com/html5/units/"+o+"/"+e+"/image"+t.src+".png";t.src&&-1===a.indexOf(n)&&(a.push(n),r.add({url:n}))})})))})}),r.on("progress",c).load()}()}).on("resize",function(){var a=e("BUTTON[name=resize]");Tactics.resize(e("#field").width(),e(t).height()),o.isEnabled()!==a.hasClass("fa-compress")&&a.toggleClass("fa-expand fa-compress")}),{}}(jQuery,window,document)}});